(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{9595:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var a=n(4658),r=n.n(a),i=n(5675),c=n.n(i),s=n(5893),o=function(e){return(0,s.jsx)("div",{className:"".concat(""!==e.customClass?"".concat(r().image__wrapper," ").concat(e.customClass):r().image__wrapper),children:(0,s.jsx)(c(),{src:e.src,alt:e.alt,fill:!0,style:{objectFit:"cover"},className:r().slider__image})})}},9826:function(e,t,n){"use strict";n.d(t,{IG:function(){return o},lX:function(){return u},sG:function(){return _}});var a=n(3977),r=n(6650),i=n(9828),c=n(1259),s=(0,a.ZF)({apiKey:"AIzaSyA4bRI_AJIqel0pdZTzZWpYEUlpJtFFtBU",authDomain:"react-photography-c6b2f.firebaseapp.com",projectId:"react-photography-c6b2f",storageBucket:"react-photography-c6b2f.appspot.com",messagingSenderId:"9911131058",appId:"1:9911131058:web:4269b821e02e16baa8a2ab",measurementId:"G-D7PVTCJL2R"}),o=(0,r.cF)(s),_=(0,i.ad)(s),u=(0,c.v0)(s)},4113:function(e,t,n){"use strict";n.d(t,{k:function(){return _}});var a=n(29),r=n(7794),i=n.n(r),c=n(7294),s=n(9826),o=n(9828),_=function(e,t,n,r){var _=(0,c.useState)(!1),u=_[0],d=_[1],l=(0,c.useState)(!1),p=l[0],m=l[1];return(0,c.useEffect)(function(){var c,_=(c=(0,a.Z)(i().mark(function n(){return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,o.r7)((0,o.JU)(s.sG,e,r),t);case 3:d(!0),n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0),m(!0);case 10:case"end":return n.stop()}},n,null,[[0,6]])})),function(){return c.apply(this,arguments)});t&&e&&n&&_()},[t,e,n,r]),{succesfullUpload:u,error:p}}},5371:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var a=n(6687),r=n(6650),i=n(9826),c=n(7294),s=function(e){var t=(0,c.useState)([]),n=t[0],s=t[1],o=(0,c.useState)(!1),_=o[0],u=o[1],d=(0,c.useState)(0),l=d[0],p=d[1];return(0,c.useEffect)(function(){s([]),null==e||e.forEach(function(e){var t=new Date().getTime()+String(e.name),n=(0,r.iH)(i.IG,t),c=(0,r.B0)(n,e);c.on("state_changed",function(e){switch(p(e.bytesTransferred/e.totalBytes*100),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}},function(e){console.log(e)},function(){(0,r.Jt)(c.snapshot.ref).then(function(e){s(function(t){return[].concat((0,a.Z)(t),[e])}),console.log("Upload is Done"),u(!0)})})})},[e]),{pictureURL:n,succesPictureUpload:_,progress:l,setProgress:p,setSuccesPictureUpload:u}}},5066:function(e,t,n){"use strict";n.d(t,{I:function(){return _}});var a=n(29),r=n(7794),i=n.n(r),c=n(7294),s=n(9826),o=n(9828),_=function(e,t,n){var r=(0,c.useState)(!1),_=r[0],u=r[1],d=(0,c.useState)(!1),l=d[0],p=d[1];return(0,c.useEffect)(function(){var r,c=(r=(0,a.Z)(i().mark(function n(){return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,o.ET)((0,o.hJ)(s.sG,e),t);case 3:console.log("dodaję nowy obiekt"),u(!0),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),p(!0);case 11:case"end":return n.stop()}},n,null,[[0,7]])})),function(){return r.apply(this,arguments)});t&&e&&n&&c()},[t,e,n]),{succesfullUpload:_,error:l}}},1527:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n(6687),i=n(7794),c=n.n(i),s=n(3236),o=n.n(s),_=n(7294),u=n(5371),d=n(5066),l=n(5893);t.default=function(e){var t,n=(0,_.useState)([]),i=n[0],s=n[1],p=(0,_.useState)(!1),m=p[0],f=p[1],h=(0,_.useState)({}),g=h[0],v=h[1],b=(0,_.useState)("MainSlider")[0],y=(0,_.useRef)(),j=(0,_.useRef)(),x=(0,u.H)(i),S=x.pictureURL,w=x.succesPictureUpload,N=x.progress,k=x.setProgress,C=(t=(0,a.Z)(c().mark(function t(n){var a;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),a=y.current.value.trim(),f(!0),v({name:a,url:S[0],date:new Date().getTime()}),y.current.value="",j.current.value="",e.update(e.updateCounter+1);case 7:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)});(0,_.useEffect)(function(){if(100==N&&!0==w){var e=setTimeout(function(){k(0)},2e3);return function(){return clearInterval(e)}}},[w,N,k]);var I=(0,d.I)(b,g,m),U=I.succesfullUpload,Z=I.error;return console.log(U),U&&e.toggle(),(0,l.jsxs)("div",{className:o().modal__add,children:[U&&(0,l.jsx)("p",{className:o().admin__success,children:"Udało się dodać nową opinię ! "}),Z&&(0,l.jsx)("p",{className:o().admin__success,children:"Niestety wystąpił błąd ! "}),(0,l.jsx)("button",{onClick:e.toggle,className:o().modal__closure,children:"X"}),(0,l.jsxs)("form",{className:o().admin__wrapper,onSubmit:C,children:[(0,l.jsx)("label",{className:o().admin__label,htmlFor:"names",children:"Tytuł zdjęcia"}),(0,l.jsx)("input",{className:o().admin__input,ref:y,type:"text",id:"names",required:!0}),(0,l.jsx)("label",{className:o().admin__label,htmlFor:"file",children:"Załącz zdjęcie"}),(0,l.jsx)("input",{className:o().admin__input,onChange:function(e){if(null!=e.target.files){var t,n=null===(t=e.target)||void 0===t?void 0:t.files[0];s(function(e){return[].concat((0,r.Z)(e),[n])})}},ref:j,style:{border:"none"},type:"file",id:"file",accept:"image/png, image/jpeg",required:!0}),0!=N&&(0,l.jsx)("p",{className:o().admin__success,children:"Trwa upload zdjęcia (".concat(Math.round(N),")%")}),w&&(0,l.jsx)("p",{className:o().admin__success,children:" Zdjęcie gotowe do dodania !"}),(0,l.jsx)("button",{className:o().admin__button,type:"submit",children:"Dodaj"})]})]})}},5629:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n(6687),i=n(7794),c=n.n(i),s=n(1290),o=n.n(s),_=n(7294),u=n(5371),d=n(4113),l=n(5893);t.default=function(e){var t,n=e.elementToEdit,i=(0,_.useState)([]),s=i[0],p=i[1],m=(0,_.useState)(!1),f=m[0],h=m[1],g=(0,_.useState)({}),v=g[0],b=g[1],y=(0,_.useState)("MainSlider")[0],j=null==n?void 0:n.id,x=(0,_.useRef)(),S=(0,_.useRef)();(0,_.useEffect)(function(){x.current.value=null==n?void 0:n.name},[null==n?void 0:n.name]);var w=(0,u.H)(s),N=w.pictureURL,k=w.succesPictureUpload,C=w.progress,I=w.setProgress,U=(t=(0,a.Z)(c().mark(function t(a){var r;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),r=x.current.value.trim(),h(!0),n.name=r,0!==N.length?n.url=N[0]:null==n||n.url,b(n),x.current.value="",e.update(e.updateCounter+1);case 8:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)});(0,_.useEffect)(function(){if(100==C&&!0==k){var e=setTimeout(function(){I(0)},2e3);return function(){return clearInterval(e)}}},[k,C,I]);var Z=(0,d.k)(y,v,f,j),T=Z.succesfullUpload,E=Z.error;return T&&e.toggle(),(0,l.jsxs)("div",{className:o().modal__add,children:[E&&(0,l.jsx)("p",{className:o().admin__success,children:"Niestety wystąpił błąd ! "}),(0,l.jsx)("button",{onClick:e.toggle,className:o().modal__closure,children:"X"}),(0,l.jsxs)("form",{className:o().admin__wrapper,onSubmit:U,children:[(0,l.jsx)("label",{className:o().admin__label,htmlFor:"names",children:"Tytuł zdjęcia"}),(0,l.jsx)("input",{className:o().admin__input,ref:x,type:"text",id:"names"}),(0,l.jsx)("label",{className:o().admin__label,htmlFor:"file",children:"Załącz zdjęcie"}),(0,l.jsx)("input",{className:o().admin__input,onChange:function(e){if(null!=e.target.files){var t,n=null===(t=e.target)||void 0===t?void 0:t.files[0];p(function(e){return[].concat((0,r.Z)(e),[n])})}},ref:S,style:{border:"none"},type:"file",id:"file",accept:"image/png, image/jpeg"}),0!=C&&(0,l.jsx)("p",{className:o().admin__success,children:"Trwa upload zdjęcia (".concat(Math.round(C),")%")}),k&&(0,l.jsx)("p",{className:o().admin__success,children:" Zdjęcie gotowe do dodania !"}),(0,l.jsx)("button",{className:o().admin__button,type:"submit",children:"Zapisz"})]})]})}},7351:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return h}});var a=n(29),r=n(7794),i=n.n(r),c=n(9197),s=n.n(c),o=n(9826),_=n(9828),u=n(7294),d=n(9595),l=n(1527),p=n(5629),m=n(1163),f=n(5893),h=!0;t.default=function(e){var t,n,r=(0,m.useRouter)(),c=(0,u.useState)(!1),h=c[0],g=c[1],v=(0,u.useState)(!1),b=v[0],y=v[1],j=(0,u.useState)({name:"",id:"",url:"",date:0}),x=j[0],S=j[1],w=(0,u.useState)(0),N=w[0],k=w[1],C=(t=(0,a.Z)(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==t)){e.next=4;break}return e.next=3,(0,_.oe)((0,_.JU)(o.sG,"MainSlider",t));case 3:k(N+1);case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),I=(n=(0,a.Z)(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:S(t),Z();case 2:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),U=function(){g(!h)},Z=function(){y(!b)};return(0,f.jsxs)("div",{className:s().admin__opinion,children:[(0,f.jsx)("button",{onClick:function(){r.back()},className:s().button__back,children:"Powr\xf3ć"}),(0,f.jsx)("button",{onClick:U,className:s().admin__opinion__add,children:"Dodaj nowy slajd"}),h&&(0,f.jsx)(l.default,{toggle:U,updateCounter:N,update:k}),b&&(0,f.jsx)(p.default,{toggle:Z,updateCounter:N,update:k,elementToEdit:x}),h&&(0,f.jsx)("div",{className:s().admin__opinion__modal__backdrop}),b&&(0,f.jsx)("div",{className:s().admin__opinion__modal__backdrop}),Array.isArray(e.data)&&0!==e.data.length&&0!==Object.keys(e.data[0]).length&&e.data.map(function(e){var t=e.name,n=e.id,a=e.url,r=e.date;return(0,f.jsxs)("div",{className:s().fetched__wrapper,children:[(0,f.jsx)("div",{className:s().fetched__image__wrapper,children:(0,f.jsx)(d.d,{customClass:s().fetched__image,src:String(a),alt:String(t)})}),(0,f.jsxs)("div",{className:s().fetched__info,children:[(0,f.jsx)("p",{className:s().fetched__paragraph,children:"ID: "+n}),(0,f.jsx)("p",{className:s().fetched__paragraph,children:"Tytuł: "+t}),(0,f.jsx)("p",{className:s().fetched__paragraph,children:"URL zdjęcia: "+a}),(0,f.jsx)("p",{className:s().fetched__paragraph,children:"Data dodania: ".concat(new Date(Number(r)))})]}),(0,f.jsxs)("div",{className:s().fetched__action,children:[(0,f.jsx)("button",{onClick:function(){C(n)},className:s().fetched__icon,children:"Usuń"}),(0,f.jsx)("button",{onClick:function(){I(e)},className:s().fetched__icon,children:"Edytuj"})]})]},n)})]})}},5947:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/main",function(){return n(7351)}])},4658:function(e){e.exports={image__wrapper:"CustomImage_image__wrapper__Ie_YS",slider__image:"CustomImage_slider__image__Dw6Ip"}},3236:function(e){e.exports={modal__add:"addStyle_modal__add__BejZ_",admin__wrapper:"addStyle_admin__wrapper__30u8h",admin__label:"addStyle_admin__label__Z0p_0",admin__input:"addStyle_admin__input__jpVXG",description:"addStyle_description__51xyV",file:"addStyle_file__PJJat",admin__select:"addStyle_admin__select__9zCGj",admin__button:"addStyle_admin__button__j34en",admin__success:"addStyle_admin__success__F2QHB",admin__error:"addStyle_admin__error__cpIS7",modal__closure:"addStyle_modal__closure__Ohu4K"}},1290:function(e){e.exports={modal__add:"editStyle_modal__add__ITs8x",admin__wrapper:"editStyle_admin__wrapper__ti4K1",admin__label:"editStyle_admin__label__D_9sA",admin__input:"editStyle_admin__input__WePz8",description:"editStyle_description__bhWP1",file:"editStyle_file__L4v_i",admin__select:"editStyle_admin__select__Yspb_",admin__button:"editStyle_admin__button__Nrnu9",admin__success:"editStyle_admin__success__g5oFP",admin__error:"editStyle_admin__error__MRjNz",modal__closure:"editStyle_modal__closure__CIPu6"}},9197:function(e){e.exports={admin__opinion:"main_admin__opinion__aySL3",admin__opinion__add:"main_admin__opinion__add__8OppE",fetched__wrapper:"main_fetched__wrapper__Rd7_s",fetched__action:"main_fetched__action___aRqG",fetched__image__wrapper:"main_fetched__image__wrapper__B9nKW",fetched__info:"main_fetched__info__jQCOY",fetched__icon:"main_fetched__icon__RnXNT",admin__opinion__modal__backdrop:"main_admin__opinion__modal__backdrop__G9HA1",button__back:"main_button__back__nv8KJ",overlapper:"main_overlapper__61qxm",fetched__wrapper_pictures:"main_fetched__wrapper_pictures__DzFd0"}},1163:function(e,t,n){e.exports=n(9898)},29:function(e,t,n){"use strict";function a(e,t,n,a,r,i,c){try{var s=e[i](c),o=s.value}catch(e){n(e);return}s.done?t(o):Promise.resolve(o).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var c=e.apply(t,n);function s(e){a(c,r,i,s,o,"next",e)}function o(e){a(c,r,i,s,o,"throw",e)}s(void 0)})}}n.d(t,{Z:function(){return r}})},6687:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[16,597,477,675,774,888,179],function(){return e(e.s=5947)}),_N_E=e.O()}]);