(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{9595:function(e,n,t){"use strict";t.d(n,{d:function(){return o}});var a=t(4658),r=t.n(a),i=t(5675),s=t.n(i),c=t(5893),o=function(e){return(0,c.jsx)("div",{className:"".concat(""!==e.customClass?"".concat(r().image__wrapper," ").concat(e.customClass):r().image__wrapper),children:(0,c.jsx)(s(),{src:e.src,alt:e.alt,fill:!0,style:{objectFit:"cover"},className:r().slider__image})})}},9826:function(e,n,t){"use strict";t.d(n,{IG:function(){return o},lX:function(){return u},sG:function(){return _}});var a=t(3977),r=t(6650),i=t(9828),s=t(1259),c=(0,a.ZF)({apiKey:"AIzaSyA4bRI_AJIqel0pdZTzZWpYEUlpJtFFtBU",authDomain:"react-photography-c6b2f.firebaseapp.com",projectId:"react-photography-c6b2f",storageBucket:"react-photography-c6b2f.appspot.com",messagingSenderId:"9911131058",appId:"1:9911131058:web:4269b821e02e16baa8a2ab",measurementId:"G-D7PVTCJL2R"}),o=(0,r.cF)(c),_=(0,i.ad)(c),u=(0,s.v0)(c)},4113:function(e,n,t){"use strict";t.d(n,{k:function(){return _}});var a=t(29),r=t(7794),i=t.n(r),s=t(7294),c=t(9826),o=t(9828),_=function(e,n,t,r){var _=(0,s.useState)(!1),u=_[0],d=_[1],l=(0,s.useState)(!1),p=l[0],m=l[1];return(0,s.useEffect)(function(){var s,_=(s=(0,a.Z)(i().mark(function t(){return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.r7)((0,o.JU)(c.sG,e,r),n);case 3:d(!0),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0),m(!0);case 10:case"end":return t.stop()}},t,null,[[0,6]])})),function(){return s.apply(this,arguments)});n&&e&&t&&_()},[n,e,t,r]),{succesfullUpload:u,error:p}}},5371:function(e,n,t){"use strict";t.d(n,{H:function(){return c}});var a=t(6687),r=t(6650),i=t(9826),s=t(7294),c=function(e){var n=(0,s.useState)([]),t=n[0],c=n[1],o=(0,s.useState)(!1),_=o[0],u=o[1],d=(0,s.useState)(0),l=d[0],p=d[1];return(0,s.useEffect)(function(){c([]),null==e||e.forEach(function(e){var n=new Date().getTime()+String(e.name),t=(0,r.iH)(i.IG,n),s=(0,r.B0)(t,e);s.on("state_changed",function(e){switch(p(e.bytesTransferred/e.totalBytes*100),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}},function(e){console.log(e)},function(){(0,r.Jt)(s.snapshot.ref).then(function(e){c(function(n){return[].concat((0,a.Z)(n),[e])}),console.log("Upload is Done"),u(!0)})})})},[e]),{pictureURL:t,succesPictureUpload:_,progress:l,setProgress:p,setSuccesPictureUpload:u}}},5066:function(e,n,t){"use strict";t.d(n,{I:function(){return _}});var a=t(29),r=t(7794),i=t.n(r),s=t(7294),c=t(9826),o=t(9828),_=function(e,n,t){var r=(0,s.useState)(!1),_=r[0],u=r[1],d=(0,s.useState)(!1),l=d[0],p=d[1];return(0,s.useEffect)(function(){var r,s=(r=(0,a.Z)(i().mark(function t(){return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.ET)((0,o.hJ)(c.sG,e),n);case 3:console.log("dodaję nowy obiekt"),u(!0),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),p(!0);case 11:case"end":return t.stop()}},t,null,[[0,7]])})),function(){return r.apply(this,arguments)});n&&e&&t&&s()},[n,e,t]),{succesfullUpload:_,error:l}}},7036:function(e,n,t){"use strict";t.r(n);var a=t(29),r=t(6687),i=t(7794),s=t.n(i),c=t(3236),o=t.n(c),_=t(7294),u=t(5371),d=t(5066),l=t(5893);n.default=function(e){var n,t=(0,_.useState)([]),i=t[0],c=t[1],p=(0,_.useState)(!1),m=p[0],f=p[1],h=(0,_.useState)({}),v=h[0],g=h[1],b=(0,_.useState)("Opinion")[0],x=(0,_.useRef)(),y=(0,_.useRef)(),j=(0,_.useRef)(),S=(0,u.H)(i),N=S.pictureURL,w=S.succesPictureUpload,k=S.progress,I=S.setProgress,C=(n=(0,a.Z)(s().mark(function n(t){var a,r;return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.preventDefault(),a=y.current.value.trim(),r=x.current.value.trim(),f(!0),g({name:r,description:a,url:N[0],date:new Date().getTime()}),y.current.value="",x.current.value="",j.current.value="",e.update(e.updateCounter+1);case 9:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)});(0,_.useEffect)(function(){if(100==k&&!0==w){var e=setTimeout(function(){I(0)},2e3);return function(){return clearInterval(e)}}},[w,k,I]);var U=(0,d.I)(b,v,m),Z=U.succesfullUpload,E=U.error;return console.log(Z),Z&&e.toggle(),(0,l.jsxs)("div",{className:o().modal__add,children:[Z&&(0,l.jsx)("p",{className:o().admin__success,children:"Udało się dodać nową opinię ! "}),E&&(0,l.jsx)("p",{className:o().admin__success,children:"Niestety wystąpił błąd ! "}),(0,l.jsx)("button",{onClick:e.toggle,className:o().modal__closure,children:" X"}),(0,l.jsxs)("form",{className:o().admin__wrapper,onSubmit:C,children:[(0,l.jsx)("label",{className:o().admin__label,htmlFor:"names",children:"Imiona pary"}),(0,l.jsx)("input",{className:o().admin__input,ref:x,type:"text",id:"names",required:!0}),(0,l.jsx)("label",{className:o().admin__label,htmlFor:"description",children:"Opis"}),(0,l.jsx)("textarea",{className:o().admin__input,ref:y,id:"description",style:{height:"120px"},required:!0}),(0,l.jsx)("label",{className:o().admin__label,htmlFor:"file",children:"Załącz zdjęcie"}),(0,l.jsx)("input",{className:o().admin__input,onChange:function(e){if(null!=e.target.files){var n,t=null===(n=e.target)||void 0===n?void 0:n.files[0];c(function(e){return[].concat((0,r.Z)(e),[t])})}},ref:j,style:{border:"none"},type:"file",id:"file",accept:"image/png, image/jpeg",required:!0}),0!=k&&(0,l.jsx)("p",{className:o().admin__success,children:"Trwa upload zdjęcia (".concat(Math.round(k),")%")}),w&&(0,l.jsx)("p",{className:o().admin__success,children:" Zdjęcie gotowe do dodania !"}),(0,l.jsx)("button",{className:o().admin__button,type:"submit",children:"Dodaj"})]})]})}},4078:function(e,n,t){"use strict";t.r(n);var a=t(29),r=t(6687),i=t(7794),s=t.n(i),c=t(1290),o=t.n(c),_=t(7294),u=t(5371),d=t(4113),l=t(5893);n.default=function(e){var n,t=e.elementToEdit,i=(0,_.useState)([]),c=i[0],p=i[1],m=(0,_.useState)(!1),f=m[0],h=m[1],v=(0,_.useState)({}),g=v[0],b=v[1],x=(0,_.useState)("Opinion")[0],y=null==t?void 0:t.id,j=(0,_.useRef)(),S=(0,_.useRef)(),N=(0,_.useRef)();(0,_.useEffect)(function(){S.current.value=null==t?void 0:t.description,j.current.value=null==t?void 0:t.name},[null==t?void 0:t.description,null==t?void 0:t.name]);var w=(0,u.H)(c),k=w.pictureURL,I=w.succesPictureUpload,C=w.progress,U=w.setProgress,Z=(n=(0,a.Z)(s().mark(function n(a){var r,i;return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a.preventDefault(),r=S.current.value.trim(),i=j.current.value.trim(),h(!0),t.name=i,t.description=r,0!==k.length?t.url=k[0]:null==t||t.url,b(t),S.current.value="",j.current.value="",e.update(e.updateCounter+1);case 11:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)});(0,_.useEffect)(function(){if(100==C&&!0==I){var e=setTimeout(function(){U(0)},2e3);return function(){return clearInterval(e)}}},[I,C,U]);var E=(0,d.k)(x,g,f,y),P=E.succesfullUpload,R=E.error;return P&&e.toggle(),(0,l.jsxs)("div",{className:o().modal__add,children:[R&&(0,l.jsx)("p",{className:o().admin__success,children:"Niestety wystąpił błąd ! "}),(0,l.jsx)("button",{onClick:e.toggle,className:o().modal__closure,children:"X"}),(0,l.jsxs)("form",{className:o().admin__wrapper,onSubmit:Z,children:[(0,l.jsx)("label",{className:o().admin__label,htmlFor:"names",children:"Imiona pary"}),(0,l.jsx)("input",{className:o().admin__input,ref:j,type:"text",id:"names"}),(0,l.jsx)("label",{className:o().admin__label,htmlFor:"description",children:"Opis"}),(0,l.jsx)("textarea",{className:o().admin__input,ref:S,id:"description",style:{height:"150px"}}),(0,l.jsx)("label",{className:o().admin__label,htmlFor:"file",children:"Załącz zdjęcie"}),(0,l.jsx)("input",{className:o().admin__input,onChange:function(e){if(null!=e.target.files){var n,t=null===(n=e.target)||void 0===n?void 0:n.files[0];p(function(e){return[].concat((0,r.Z)(e),[t])})}},ref:N,style:{border:"none"},type:"file",id:"file",accept:"image/png, image/jpeg"}),0!=C&&(0,l.jsx)("p",{className:o().admin__success,children:"Trwa upload zdjęcia (".concat(Math.round(C),")%")}),I&&(0,l.jsx)("p",{className:o().admin__success,children:" Zdjęcie gotowe do dodania !"}),(0,l.jsx)("button",{className:o().admin__button,type:"submit",children:"Zapisz"})]})]})}},6830:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return h}});var a=t(29),r=t(7794),i=t.n(r),s=t(9197),c=t.n(s),o=t(9826),_=t(9828),u=t(7294),d=t(9595),l=t(7036),p=t(4078),m=t(1163),f=t(5893),h=!0;n.default=function(e){var n,t,r=(0,m.useRouter)(),s=(0,u.useState)(!1),h=s[0],v=s[1],g=(0,u.useState)(!1),b=g[0],x=g[1],y=(0,u.useState)({name:"",description:"",id:"",url:"",date:0}),j=y[0],S=y[1],N=(0,u.useState)(0),w=N[0],k=N[1],I=(n=(0,a.Z)(i().mark(function e(n){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==n)){e.next=4;break}return e.next=3,(0,_.oe)((0,_.JU)(o.sG,"Opinion",n));case 3:k(w+1);case 4:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),C=(t=(0,a.Z)(i().mark(function e(n){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:S(n),Z();case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),U=function(){v(!h)},Z=function(){x(!b)};return(0,f.jsxs)("div",{className:c().admin__opinion,children:[(0,f.jsx)("button",{onClick:function(){r.back()},className:c().button__back,children:"Powr\xf3ć"}),(0,f.jsx)("button",{onClick:U,className:c().admin__opinion__add,children:"Dodaj nową opinię"}),h&&(0,f.jsx)(l.default,{toggle:U,updateCounter:w,update:k}),b&&(0,f.jsx)(p.default,{toggle:Z,updateCounter:w,update:k,elementToEdit:j}),h&&(0,f.jsx)("div",{className:c().admin__opinion__modal__backdrop}),b&&(0,f.jsx)("div",{className:c().admin__opinion__modal__backdrop}),Array.isArray(e.data)&&0!==e.data.length&&0!==Object.keys(e.data[0]).length&&e.data.map(function(e){var n=e.name,t=e.id,a=e.description,r=e.url,i=e.date;return(0,f.jsxs)("div",{className:c().fetched__wrapper,children:[(0,f.jsx)("div",{className:c().fetched__image__wrapper,children:(0,f.jsx)(d.d,{customClass:c().fetched__image,src:r,alt:String(n)})}),(0,f.jsxs)("div",{className:c().fetched__info,children:[(0,f.jsx)("p",{className:c().fetched__paragraph,children:"ID: "+t}),(0,f.jsx)("p",{className:c().fetched__paragraph,children:"Imiona: "+n}),(0,f.jsx)("p",{className:c().fetched__paragraph,children:"Opis: "+a}),(0,f.jsx)("p",{className:c().fetched__paragraph,children:"URL zdjęcia: "+r}),(0,f.jsx)("p",{className:c().fetched__paragraph,children:"Data dodania: ".concat(new Date(Number(i)))})]}),(0,f.jsxs)("div",{className:c().fetched__action,children:[(0,f.jsx)("button",{onClick:function(){I(t)},className:c().fetched__icon,children:"Usuń"}),(0,f.jsx)("button",{onClick:function(){C(e)},className:c().fetched__icon,children:"Edytuj"})]})]},t)})]})}},544:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/opinion",function(){return t(6830)}])},4658:function(e){e.exports={image__wrapper:"CustomImage_image__wrapper__Ie_YS",slider__image:"CustomImage_slider__image__Dw6Ip"}},3236:function(e){e.exports={modal__add:"addStyle_modal__add__BejZ_",admin__wrapper:"addStyle_admin__wrapper__30u8h",admin__label:"addStyle_admin__label__Z0p_0",admin__input:"addStyle_admin__input__jpVXG",description:"addStyle_description__51xyV",file:"addStyle_file__PJJat",admin__select:"addStyle_admin__select__9zCGj",admin__button:"addStyle_admin__button__j34en",admin__success:"addStyle_admin__success__F2QHB",admin__error:"addStyle_admin__error__cpIS7",modal__closure:"addStyle_modal__closure__Ohu4K"}},1290:function(e){e.exports={modal__add:"editStyle_modal__add__ITs8x",admin__wrapper:"editStyle_admin__wrapper__ti4K1",admin__label:"editStyle_admin__label__D_9sA",admin__input:"editStyle_admin__input__WePz8",description:"editStyle_description__bhWP1",file:"editStyle_file__L4v_i",admin__select:"editStyle_admin__select__Yspb_",admin__button:"editStyle_admin__button__Nrnu9",admin__success:"editStyle_admin__success__g5oFP",admin__error:"editStyle_admin__error__MRjNz",modal__closure:"editStyle_modal__closure__CIPu6"}},9197:function(e){e.exports={admin__opinion:"main_admin__opinion__aySL3",admin__opinion__add:"main_admin__opinion__add__8OppE",fetched__wrapper:"main_fetched__wrapper__Rd7_s",fetched__action:"main_fetched__action___aRqG",fetched__image__wrapper:"main_fetched__image__wrapper__B9nKW",fetched__info:"main_fetched__info__jQCOY",fetched__icon:"main_fetched__icon__RnXNT",admin__opinion__modal__backdrop:"main_admin__opinion__modal__backdrop__G9HA1",button__back:"main_button__back__nv8KJ",overlapper:"main_overlapper__61qxm",fetched__wrapper_pictures:"main_fetched__wrapper_pictures__DzFd0"}},1163:function(e,n,t){e.exports=t(9898)},29:function(e,n,t){"use strict";function a(e,n,t,a,r,i,s){try{var c=e[i](s),o=c.value}catch(e){t(e);return}c.done?n(o):Promise.resolve(o).then(a,r)}function r(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var s=e.apply(n,t);function c(e){a(s,r,i,c,o,"next",e)}function o(e){a(s,r,i,c,o,"throw",e)}c(void 0)})}}t.d(n,{Z:function(){return r}})},6687:function(e,n,t){"use strict";function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,n)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.d(n,{Z:function(){return r}})}},function(e){e.O(0,[16,597,477,675,774,888,179],function(){return e(e.s=544)}),_N_E=e.O()}]);